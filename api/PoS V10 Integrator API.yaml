---
swagger: "2.0"
info:
  version: 10.0.34
  title: PoS Integrator API
  description: "<span style=\"color:red\">**Notice!** The URL in `Example Request`
    is currently wrong. The URL to use is: `https://api.sandbox.mobilepay.dk/pos/v10/...`</span>\n##
    PoS  V10 API\n\nThe API is split into 5 categories: \n* **Brands**: Look up brands
    or stores based on brand \n* **PointOfSales**: Management of Point of Sales including
    create, delete and querying. Note that a Point of Sale is not editable. \n* **Refunds**:
    Everything needed in order to do a refund (create, cancel and look up) \n* **Stores**:
    Look up store information \n* **Payments**: Everything needed in order to initiate
    and complete a payment. \n\n#### Payment flows\nPayments can be started in two
    ways: as an initiated payment that is immediately ready for user approval or as
    a prepared payment that is not yet ready for user approval and must be explicitly
    marked as ready. Once a payment is ready for user approval, it is issued to the
    user. Once the user accepts the payment request, and the payment amount has been
    reserved, the payment must be captured to complete the payment.\n\nThe API thus
    supports the following two payment flows:\n* Initiate payment (POST /payments)
    --> poll until reserved (GET /payments/{paymentId}) --> capture (POST /payments/{paymentId}/capture)
    \n* Prepare payment (POST /payments/prepare) --> mark as ready (POST /payments/{paymentId}/ready)
    --> poll until reserved (GET /payments/{paymentId}) --> capture (POST /payments/{paymentId}/capture)"
  x-ibm-name: pos-integrator-api
  contact:
    name: MobilePay Business Integration
    email: developer@mobilepay.dk
paths:
  /v10/payments/{paymentId}:
    get:
      tags:
      - Payments
      summary: Lookup a payment
      produces:
      - application/json
      parameters:
      - in: path
        name: paymentId
        description: Payment identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: The payment
          schema:
            $ref: '#/definitions/QueryPaymentResponse'
          examples:
            application/json:
              paymentId: 8df4b807-640b-47ea-8969-c49069420116
              posId: 4cc3e55a-1dfc-4d0b-8d29-588bee056104
              orderId: ORDER-12345
              amount: 12.500000
              currencyCode: DKK
              restrictions:
                debitCardDisallowed: false
                creditCardDisallowed: false
                userMinimumAge: 18
              merchantPaymentLabel: PaymentLabel
              plannedCaptureDelay: None
              status: Paired
              customerToken: 0ec800a9ed75121a666f3c968b5ffb1bed321296
              customerReceiptToken: 01df0116433f4981bd83b058f5484f2f
              loyaltyIds:
              - "123456"
              pollDelayInMs: 100
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot query payments created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Payment not found
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/payments:
    get:
      tags:
      - Payments
      summary: Lookup payments for a given filter
      produces:
      - application/json
      parameters:
      - in: query
        name: posId
        description: Restricts payments returned to those with a specific posId
        type: string
        format: uuid
      - in: query
        name: orderId
        description: Restricts payments returned to those with a specific orderId
        type: string
      - in: query
        name: active
        description: Restricts payments returned to those that are active
        type: boolean
        default: false
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: List of paymentIds satisfied by the filter
          schema:
            $ref: '#/definitions/QueryPaymentIdsResponse'
          examples:
            application/json:
              paymentIds:
              - 8df4b807-640b-47ea-8969-c49069420116
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
    post:
      tags:
      - Payments
      summary: Initiate a new payment
      consumes:
      - application/json-patch+json
      - application/json
      - text/json
      - application/*+json
      produces:
      - application/json
      parameters:
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      - in: header
        name: X-MobilePay-Idempotency-Key
        description: Used to ensure retried calls are handled correctly
        required: true
        type: string
      - in: body
        name: body
        description: Initiate payment request
        required: true
        schema:
          $ref: '#/definitions/InitiatePaymentRequest'
      responses:
        200:
          description: Payment initiated
          schema:
            $ref: '#/definitions/PaymentInitiatedResponse'
          examples:
            application/json:
              paymentId: 8df4b807-640b-47ea-8969-c49069420116
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot initiate payments on a point of sale created by a different
            integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        409:
          description: Payment could not be initiated. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/payments/prepare:
    post:
      tags:
      - Payments
      summary: Prepare a new payment that is not yet ready for user approval
      consumes:
      - application/json-patch+json
      - application/json
      - text/json
      - application/*+json
      produces:
      - application/json
      parameters:
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      - in: header
        name: X-MobilePay-Idempotency-Key
        description: Used to ensure retried calls are handled correctly
        required: true
        type: string
      - in: body
        name: body
        description: Prepare payment request
        required: true
        schema:
          $ref: '#/definitions/PreparePaymentRequest'
      responses:
        200:
          description: Payment prepared
          schema:
            $ref: '#/definitions/PaymentInitiatedResponse'
          examples:
            application/json:
              paymentId: 8df4b807-640b-47ea-8969-c49069420116
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot prepare payments on a point of sale created by a different
            integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        409:
          description: Payment could not be prepared. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/payments/{paymentId}/ready:
    post:
      tags:
      - Payments
      summary: Mark payment as ready for approval by user
      consumes:
      - application/json-patch+json
      - application/json
      - text/json
      - application/*+json
      produces:
      - application/json
      parameters:
      - in: path
        name: paymentId
        description: Payment identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      - in: body
        name: body
        description: Ready payment request
        required: true
        schema:
          $ref: '#/definitions/PaymentReadyRequest'
      responses:
        200:
          description: Payment ready for user approval
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot ready payments prepared by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Payment not found
        409:
          description: Payment could not be marked ready. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/payments/{paymentId}/capture:
    post:
      tags:
      - Payments
      summary: Capture a payment. Only reserved payments can be captured.
      consumes:
      - application/json-patch+json
      - application/json
      - text/json
      - application/*+json
      produces:
      - application/json
      parameters:
      - in: path
        name: paymentId
        description: Payment identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      - in: body
        name: body
        description: Capture payment request
        required: true
        schema:
          $ref: '#/definitions/PaymentCaptureRequest'
      responses:
        200:
          description: Payment has been captured
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot capture payments created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Payment not found
        409:
          description: Payment could not be captured. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/payments/{paymentId}/cancel:
    post:
      tags:
      - Payments
      summary: Cancel a payment. A payment cannot be cancelled once it has been captured.
      produces:
      - application/json
      parameters:
      - in: path
        name: paymentId
        description: Payment identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: Payment cancelled
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot cancel payments created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Payment not found
        409:
          description: Payment could not be cancelled. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/pointofsales/{posId}:
    get:
      tags:
      - PointOfSales
      summary: Lookup a point of sale
      produces:
      - application/json
      parameters:
      - in: path
        name: posId
        description: Point of sale identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: The point of sale
          schema:
            $ref: '#/definitions/PosResponse'
          examples:
            application/json:
              posId: 8c12243c-edee-4ac0-9179-b7e63ccae2dc
              merchantPosId: My-Pos-1
              storeId: 268edad7-ba00-442e-b5c2-0c9b58e80771
              name: Register 1
              beaconId: "123456789123456"
              callbackAlias: Example Alias
              supportedBeaconTypes:
              - QR
              - BluetoothMP2
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot query point of sales created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Point of sale not found
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
    delete:
      tags:
      - PointOfSales
      summary: Delete a point of sale
      produces:
      - application/json
      parameters:
      - in: path
        name: posId
        description: Point of sale identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: Point of sale deleted
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot delete point of sales created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Point of sale not found
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/pointofsales:
    get:
      tags:
      - PointOfSales
      summary: Lookup point of sales for a given filter
      produces:
      - application/json
      parameters:
      - in: query
        name: storeId
        description: Restricts point of sales returned to those that belong to this
          store
        type: string
        format: uuid
      - in: query
        name: beaconId
        description: Restricts point of sales returned to the one with this beaconId
        type: string
      - in: query
        name: merchantPosId
        description: Restricts point of sales returned to the one with this merchantPoSId
        type: string
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: List of Point of Sales
          schema:
            $ref: '#/definitions/PosIdsResponse'
          examples:
            application/json:
              posIds:
              - 4cc3e55a-1dfc-4d0b-8d29-588bee056104
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
    post:
      tags:
      - PointOfSales
      summary: Create a point of sale
      consumes:
      - application/json-patch+json
      - application/json
      - text/json
      - application/*+json
      produces:
      - application/json
      parameters:
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      - in: header
        name: X-MobilePay-Idempotency-Key
        description: Used to ensure retried calls are handled correctly
        required: true
        type: string
      - in: body
        name: body
        description: Create point of sale request
        required: true
        schema:
          $ref: '#/definitions/CreatePosRequest'
      responses:
        200:
          description: Point of sale created
          schema:
            $ref: '#/definitions/CreatePosResponse'
          examples:
            application/json:
              posId: 4cc3e55a-1dfc-4d0b-8d29-588bee056104
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        409:
          description: Point of sale could not be created. See error response for
            details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/pointofsales/{posId}/checkin:
    get:
      tags:
      - PointOfSales
      summary: Lookup the current MobilePay user information checked-in at a point
        of sale
      produces:
      - application/json
      parameters:
      - in: path
        name: posId
        description: Point of sale identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: MobilePay user info
          schema:
            $ref: '#/definitions/GetCheckInResponse'
          examples:
            application/json:
              isUserCheckedIn: true
              loyaltyIds:
              - "123456"
              pollDelayInMs: 100
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot query checkin on a point of sale created by a different
            integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Point of sale not found
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/refunds/{refundId}:
    get:
      tags:
      - Refunds
      summary: Lookup a refund
      produces:
      - application/json
      parameters:
      - in: path
        name: refundId
        description: Refund identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: The refund
          schema:
            $ref: '#/definitions/RefundResponse'
          examples:
            application/json:
              refundId: 02372e2a-0db3-4be3-8a0c-dd957dc52955
              paymentId: 8df4b807-640b-47ea-8969-c49069420116
              refundOrderId: REFUND-12345
              amount: 12.500000
              currencyCode: DKK
              status: Reserved
              pollDelayInMs: 100
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot query refunds created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Refund not found
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/refunds:
    get:
      tags:
      - Refunds
      summary: Lookup refunds for a given filter
      produces:
      - application/json
      parameters:
      - in: query
        name: paymentId
        description: Restricts refunds returned to those that belongs to this paymentId
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: List of refunds
          schema:
            $ref: '#/definitions/QueryRefundIdsResponse'
          examples:
            application/json:
              refundIds:
              - 02372e2a-0db3-4be3-8a0c-dd957dc52955
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
    post:
      tags:
      - Refunds
      summary: Create a refund (a payment can be refunded multiple times, the sum
        of the refunds cannot exceed the full amount of the payment)
      consumes:
      - application/json-patch+json
      - application/json
      - text/json
      - application/*+json
      produces:
      - application/json
      parameters:
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      - in: header
        name: X-MobilePay-Idempotency-Key
        description: Used to ensure retried calls are handled correctly
        required: true
        type: string
      - in: body
        name: body
        description: Create refund request
        required: true
        schema:
          $ref: '#/definitions/CreateRefundRequest'
      responses:
        200:
          description: Refund has been created
          schema:
            $ref: '#/definitions/CreateRefundResponse'
          examples:
            application/json:
              refundId: 02372e2a-0db3-4be3-8a0c-dd957dc52955
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot refund payments created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        409:
          description: Refund could not be created. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/refunds/{refundId}/capture:
    post:
      tags:
      - Refunds
      summary: Capture a refund
      produces:
      - application/json
      parameters:
      - in: path
        name: refundId
        description: Refund identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: Refund captured
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot capture refunds created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Refund not found
        409:
          description: Refund could not be captured. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/refunds/{refundId}/cancel:
    post:
      tags:
      - Refunds
      summary: Cancel a refund
      produces:
      - application/json
      parameters:
      - in: path
        name: refundId
        description: Refund identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: Refund cancelled
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        403:
          description: Cannot cancel refunds created by a different integrator
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        404:
          description: Refund not found
        409:
          description: Refund could not be cancelled. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/stores/{storeId}:
    get:
      tags:
      - Stores
      summary: Lookup a store
      produces:
      - application/json
      parameters:
      - in: path
        name: storeId
        description: Store identifier
        required: true
        type: string
        format: uuid
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: The store
          schema:
            $ref: '#/definitions/StoreResponse'
          examples:
            application/json:
              storeName: Store 1
              storeId: 268edad7-ba00-442e-b5c2-0c9b58e80771
              storeStreet: Example City
              storeZipCode: "1234"
              storeCity: Example City
              brandName: The Brand
              merchantBrandId: POSDK12345
              merchantLocationId: "10001"
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        404:
          description: Store not found
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
  /v10/stores:
    get:
      tags:
      - Stores
      summary: Lookup stores for a given filter
      produces:
      - application/json
      parameters:
      - in: query
        name: merchantBrandId
        description: Merchant brand identifier
        type: string
      - in: query
        name: merchantLocationId
        description: Merchant location identifier
        type: string
      - in: header
        name: Authorization
        description: Integrator's bearer token
        required: true
        type: string
      - in: header
        name: X-MobilePay-Merchant-VAT-Number
        description: Merchant VAT identification number
        required: true
        type: string
      - in: header
        name: X-IBM-Client-Id
        description: Integrator's MobilePay client id
        required: true
        type: string
        format: uuid
      - in: header
        name: X-MobilePay-Client-System-Name
        description: Integrator's certified system name
        required: true
        type: string
      - in: header
        name: X-MobilePay-Client-System-Version
        description: Integrator's certified system version
        required: true
        type: string
      responses:
        200:
          description: A list of stores
          schema:
            $ref: '#/definitions/StoreIdsResponse'
          examples:
            application/json:
              storeIds:
              - 268edad7-ba00-442e-b5c2-0c9b58e80771
        400:
          description: Bad Request. See error response for details
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
        401:
          description: Unauthorized
        500:
          description: Internal server error - Please attach error code when communicating
            with MobilePay for quicker support
          schema:
            $ref: '#/definitions/ErrorResponse'
          examples:
            application/json:
              code: "1234"
              message: Error message explaining the error that happened while processing
                the request
              correlationId: 549c36b2-1f4c-4007-be7b-5248a44a5a4f
definitions:
  ErrorResponse:
    type: object
    properties:
      code:
        type: string
        readOnly: true
      message:
        type: string
        readOnly: true
      correlationId:
        type: string
        readOnly: true
  CurrencyCode:
    enum:
    - DKK
    - EUR
    type: string
  PaymentRestrictionsExt:
    type: object
    properties:
      debitCardDisallowed:
        type: boolean
      creditCardDisallowed:
        type: boolean
      userMinimumAge:
        format: int32
        type: integer
  PlannedCaptureDelayExt:
    enum:
    - None
    - LessThan24Hours
    - LessThan14Days
    type: string
  PaymentStateExt:
    enum:
    - Prepared
    - Initiated
    - Paired
    - IssuedToUser
    - Reserved
    - CancelledByUser
    - CancelledByClient
    - CancelledByMobilePay
    - ExpiredAndCancelled
    - Captured
    - RejectedByMobilePayDueToAgeRestrictions
    type: string
  QueryPaymentResponse:
    required:
    - orderId
    - paymentId
    - pollDelayInMs
    - posId
    - status
    type: object
    properties:
      paymentId:
        format: uuid
        type: string
      posId:
        format: uuid
        type: string
      orderId:
        type: string
      amount:
        format: double
        type: number
      currencyCode:
        allOf:
        - $ref: '#/definitions/CurrencyCode'
      restrictions:
        allOf:
        - $ref: '#/definitions/PaymentRestrictionsExt'
      merchantPaymentLabel:
        type: string
      plannedCaptureDelay:
        allOf:
        - $ref: '#/definitions/PlannedCaptureDelayExt'
      status:
        allOf:
        - $ref: '#/definitions/PaymentStateExt'
      customerToken:
        type: string
      customerReceiptToken:
        type: string
      loyaltyIds:
        description: "If LoyaltyIds is null, MobilePay has not yet looked up loyalty
          for this user. Retry the call. \\\r\nIf LoyaltyIds is an empty list, this
          user is not enrolled in the Merchants loyalty programme."
        type: array
        items:
          type: string
      pollDelayInMs:
        format: int32
        type: integer
  QueryPaymentIdsResponse:
    required:
    - paymentIds
    type: object
    properties:
      paymentIds:
        type: array
        items:
          format: uuid
          type: string
  InitiatePaymentRequest:
    required:
    - amount
    - currencyCode
    - orderId
    - plannedCaptureDelay
    - posId
    type: object
    properties:
      posId:
        format: uuid
        type: string
      orderId:
        type: string
      amount:
        format: double
        type: number
      currencyCode:
        allOf:
        - $ref: '#/definitions/CurrencyCode'
      restrictions:
        allOf:
        - $ref: '#/definitions/PaymentRestrictionsExt'
      merchantPaymentLabel:
        type: string
      plannedCaptureDelay:
        allOf:
        - $ref: '#/definitions/PlannedCaptureDelayExt'
  PaymentInitiatedResponse:
    required:
    - paymentId
    type: object
    properties:
      paymentId:
        format: uuid
        type: string
  PreparePaymentRequest:
    required:
    - orderId
    - posId
    type: object
    properties:
      posId:
        format: uuid
        type: string
      orderId:
        type: string
  PaymentReadyRequest:
    required:
    - amount
    - currencyCode
    - plannedCaptureDelay
    type: object
    properties:
      currencyCode:
        allOf:
        - $ref: '#/definitions/CurrencyCode'
      amount:
        format: double
        type: number
      restrictions:
        allOf:
        - $ref: '#/definitions/PaymentRestrictionsExt'
      merchantPaymentLabel:
        type: string
      plannedCaptureDelay:
        allOf:
        - $ref: '#/definitions/PlannedCaptureDelayExt'
  PaymentCaptureRequest:
    type: object
    properties:
      amount:
        format: double
        type: number
  BeaconTypeExt:
    enum:
    - QR
    - NFC
    - BluetoothOther
    - BluetoothMP1
    - BluetoothMP2
    - BluetoothMP3
    - BluetoothMP4
    type: string
  PosResponse:
    required:
    - merchantPosId
    - name
    - posId
    - storeId
    type: object
    properties:
      posId:
        format: uuid
        type: string
      merchantPosId:
        description: Merchant defined Id for the given Point Of Sale
        type: string
      storeId:
        format: uuid
        type: string
      name:
        type: string
      beaconId:
        description: Former PosUnit
        type: string
      callbackAlias:
        type: string
      supportedBeaconTypes:
        uniqueItems: true
        type: array
        items:
          $ref: '#/definitions/BeaconTypeExt'
  PosIdsResponse:
    required:
    - posIds
    type: object
    properties:
      posIds:
        type: array
        items:
          format: uuid
          type: string
  CreatePosRequest:
    required:
    - merchantPosId
    - name
    - storeId
    - supportedBeaconTypes
    type: object
    properties:
      merchantPosId:
        description: Merchant defined Id for the given Point Of Sale
        type: string
      storeId:
        format: uuid
        type: string
      name:
        type: string
      beaconId:
        description: Former PosUnitId
        type: string
      callbackAlias:
        type: string
      supportedBeaconTypes:
        description: 'List all the beacon type the Point of Sale supports for checkin:
          QR, Bluetooth'
        uniqueItems: true
        type: array
        items:
          $ref: '#/definitions/BeaconTypeExt'
  CreatePosResponse:
    required:
    - posId
    type: object
    properties:
      posId:
        format: uuid
        type: string
  GetCheckInResponse:
    required:
    - isUserCheckedIn
    - loyaltyIds
    - pollDelayInMs
    type: object
    properties:
      isUserCheckedIn:
        type: boolean
      loyaltyIds:
        type: array
        items:
          type: string
      pollDelayInMs:
        format: int32
        type: integer
  RefundStateExt:
    enum:
    - Initiated
    - Reserved
    - Captured
    - CancelledByMerchant
    - CancelledByMobilePay
    type: string
  RefundResponse:
    required:
    - amount
    - currencyCode
    - paymentId
    - pollDelayInMs
    - refundId
    - refundOrderId
    - status
    type: object
    properties:
      refundId:
        format: uuid
        type: string
      paymentId:
        format: uuid
        type: string
      refundOrderId:
        type: string
      amount:
        format: double
        type: number
      currencyCode:
        allOf:
        - $ref: '#/definitions/CurrencyCode'
      status:
        allOf:
        - $ref: '#/definitions/RefundStateExt'
      pollDelayInMs:
        format: int32
        type: integer
  QueryRefundIdsResponse:
    required:
    - refundIds
    type: object
    properties:
      refundIds:
        type: array
        items:
          format: uuid
          type: string
  CreateRefundRequest:
    required:
    - amount
    - currencyCode
    - paymentId
    - refundOrderId
    type: object
    properties:
      paymentId:
        format: uuid
        description: PaymentId of the payment to refund
        type: string
      refundOrderId:
        type: string
      amount:
        format: double
        description: Amount to refund (Cannot be more than the Payment's amount)
        type: number
      currencyCode:
        allOf:
        - $ref: '#/definitions/CurrencyCode'
  CreateRefundResponse:
    required:
    - refundId
    type: object
    properties:
      refundId:
        format: uuid
        type: string
  StoreResponse:
    required:
    - brandName
    - merchantBrandId
    - merchantLocationId
    - storeCity
    - storeId
    - storeName
    - storeStreet
    - storeZipCode
    type: object
    properties:
      storeName:
        description: Store Name
        type: string
      storeId:
        format: uuid
        description: StoreId
        type: string
      storeStreet:
        type: string
      storeZipCode:
        type: string
      storeCity:
        type: string
      brandName:
        type: string
      merchantBrandId:
        type: string
      merchantLocationId:
        type: string
  StoreIdsResponse:
    required:
    - storeIds
    type: object
    properties:
      storeIds:
        type: array
        items:
          format: uuid
          type: string
x-ibm-configuration:
  enforced: true
  testable: true
  phase: realized
basePath: /pos
securityDefinitions:
  api-key-1:
    type: apiKey
    description: ""
    in: header
    name: X-IBM-Client-Id
security:
- api-key-1: []
schemes:
- https
consumes:
- application/json
produces:
- application/json
x-ibm-endpoints:
- endpointUrl: https://api.sandbox.mobilepay.dk
  type:
  - production
  - development
...
